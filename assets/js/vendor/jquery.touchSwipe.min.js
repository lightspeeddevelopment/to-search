!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):"undefined"!=typeof module&&module.exports?e(require("jquery")):e(jQuery)}(function(ae){"use strict";var ue="left",se="right",ce="up",pe="down",he="in",fe="out",de="none",ge="auto",we="swipe",ve="pinch",Te="tap",be="doubletap",ye="longtap",Ee="horizontal",me="vertical",xe="all",Se=10,Oe="start",Me="move",De="end",Pe="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Le,ke=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";function r(e,a){a=ae.extend({},a);var n=Le||ke||!a.fallbackToMouseEvents,t=n?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",r=n?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",i=n?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",l=n?ke?"mouseleave":null:"mouseleave",o=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",u=0,s=null,c=null,p=0,h=0,f=0,d=1,g=0,w=0,v=null,T=ae(e),b="start",y=0,E={},m=0,x=0,S=0,O=0,M=0,D=null,P=null;try{T.bind(t,L),T.bind(o,A)}catch(e){ae.error("events not supported "+t+","+o+" on jQuery.swipe")}function L(e){if(!0!==T.data(Ae+"_intouch")&&!(0<ae(e.target).closest(a.excludedElements,T).length)){var n=e.originalEvent?e.originalEvent:e;if(!n.pointerType||"mouse"!=n.pointerType||0!=a.fallbackToMouseEvents){var t,r=n.touches,i=r?r[0]:n;return b=Oe,r?y=r.length:!1!==a.preventDefaultEvents&&e.preventDefault(),w=c=s=null,d=1,g=f=h=p=u=0,v=function(){var e={};return e[ue]=te(ue),e[se]=te(se),e[ce]=te(ce),e[pe]=te(pe),e}(),B(),$(0,i),!r||y===a.fingers||a.fingers===xe||F()?(m=oe(),2==y&&($(1,r[1]),h=f=ie(E[0].start,E[1].start)),(a.swipeStatus||a.pinchStatus)&&(t=N(n,b))):t=!1,!1===t?(N(n,b=Pe),t):(a.hold&&(P=setTimeout(ae.proxy(function(){T.trigger("hold",[n.target]),a.hold&&(t=a.hold.call(T,n,n.target))},this),a.longTapThreshold)),K(!0),null)}}}function R(e){var n=e.originalEvent?e.originalEvent:e;if(b!==De&&b!==Pe&&!J()){var t,r=n.touches,i=ee(r?r[0]:n);if(x=oe(),r&&(y=r.length),a.hold&&clearTimeout(P),b=Me,2==y&&(0==h?($(1,r[1]),h=f=ie(E[0].start,E[1].start)):(ee(r[1]),f=ie(E[0].end,E[1].end),E[0].end,E[1].end,w=d<1?fe:he),d=function(e,n){return(n/e*1).toFixed(2)}(h,f),g=Math.abs(h-f)),y===a.fingers||a.fingers===xe||!r||F()){if(s=le(i.start,i.end),function(e,n){if(!1===a.preventDefaultEvents)return;if(a.allowPageScroll===de)e.preventDefault();else{var t=a.allowPageScroll===ge;switch(n){case ue:(a.swipeLeft&&t||!t&&a.allowPageScroll!=Ee)&&e.preventDefault();break;case se:(a.swipeRight&&t||!t&&a.allowPageScroll!=Ee)&&e.preventDefault();break;case ce:(a.swipeUp&&t||!t&&a.allowPageScroll!=me)&&e.preventDefault();break;case pe:(a.swipeDown&&t||!t&&a.allowPageScroll!=me)&&e.preventDefault()}}}(e,c=le(i.last,i.end)),u=function(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}(i.start,i.end),p=re(),function(e,n){if(e==de)return;n=Math.max(n,ne(e)),v[e].distance=n}(s,u),t=N(n,b),!a.triggerOnTouchEnd||a.triggerOnTouchLeave){var l=!0;if(a.triggerOnTouchLeave){var o=function(e){var n=(e=ae(e)).offset();return{left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()}}(this);l=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(i.end,o)}!a.triggerOnTouchEnd&&l?b=j(Me):a.triggerOnTouchLeave&&!l&&(b=j(De)),b!=Pe&&b!=De||N(n,b)}}else N(n,b=Pe);!1===t&&N(n,b=Pe)}}function k(e){var n=e.originalEvent?e.originalEvent:e,t=n.touches;if(t){if(t.length&&!J())return function(e){S=oe(),O=e.touches.length+1}(n),!0;if(t.length&&J())return!0}return J()&&(y=O),x=oe(),p=re(),q()||!_()?N(n,b=Pe):a.triggerOnTouchEnd||!1===a.triggerOnTouchEnd&&b===Me?(!1!==a.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),N(n,b=De)):!a.triggerOnTouchEnd&&z()?H(n,b=De,Te):b===Me&&N(n,b=Pe),K(!1),null}function A(){f=h=m=x=y=0,d=1,B(),K(!1)}function I(e){var n=e.originalEvent?e.originalEvent:e;a.triggerOnTouchLeave&&N(n,b=j(De))}function U(){T.unbind(t,L),T.unbind(o,A),T.unbind(r,R),T.unbind(i,k),l&&T.unbind(l,I),K(!1)}function j(e){var n=e,t=Q(),r=_(),i=q();return!t||i?n=Pe:!r||e!=Me||a.triggerOnTouchEnd&&!a.triggerOnTouchLeave?!r&&e==De&&a.triggerOnTouchLeave&&(n=Pe):n=De,n}function N(e,n){var t,r=e.touches;return(X()&&Y()||Y())&&(t=H(e,n,we)),(C()&&F()||F())&&!1!==t&&(t=H(e,n,ve)),Z()&&G()&&!1!==t?t=H(e,n,be):p>a.longTapThreshold&&u<Se&&a.longTap&&!1!==t?t=H(e,n,ye):1!==y&&Le||!(isNaN(u)||u<a.threshold)||!z()||!1===t||(t=H(e,n,Te)),n===Pe&&A(),n===De&&(r&&r.length||A()),t}function H(e,n,t){var r;if(t==we){if(T.trigger("swipeStatus",[n,s||null,u||0,p||0,y,E,c]),a.swipeStatus&&!1===(r=a.swipeStatus.call(T,e,n,s||null,u||0,p||0,y,E,c)))return!1;if(n==De&&X()){if(clearTimeout(D),clearTimeout(P),T.trigger("swipe",[s,u,p,y,E,c]),a.swipe&&!1===(r=a.swipe.call(T,e,s,u,p,y,E,c)))return!1;switch(s){case ue:T.trigger("swipeLeft",[s,u,p,y,E,c]),a.swipeLeft&&(r=a.swipeLeft.call(T,e,s,u,p,y,E,c));break;case se:T.trigger("swipeRight",[s,u,p,y,E,c]),a.swipeRight&&(r=a.swipeRight.call(T,e,s,u,p,y,E,c));break;case ce:T.trigger("swipeUp",[s,u,p,y,E,c]),a.swipeUp&&(r=a.swipeUp.call(T,e,s,u,p,y,E,c));break;case pe:T.trigger("swipeDown",[s,u,p,y,E,c]),a.swipeDown&&(r=a.swipeDown.call(T,e,s,u,p,y,E,c))}}}if(t==ve){if(T.trigger("pinchStatus",[n,w||null,g||0,p||0,y,d,E]),a.pinchStatus&&!1===(r=a.pinchStatus.call(T,e,n,w||null,g||0,p||0,y,d,E)))return!1;if(n==De&&C())switch(w){case he:T.trigger("pinchIn",[w||null,g||0,p||0,y,d,E]),a.pinchIn&&(r=a.pinchIn.call(T,e,w||null,g||0,p||0,y,d,E));break;case fe:T.trigger("pinchOut",[w||null,g||0,p||0,y,d,E]),a.pinchOut&&(r=a.pinchOut.call(T,e,w||null,g||0,p||0,y,d,E))}}return t==Te?n!==Pe&&n!==De||(clearTimeout(D),clearTimeout(P),G()&&!Z()?(M=oe(),D=setTimeout(ae.proxy(function(){M=null,T.trigger("tap",[e.target]),a.tap&&(r=a.tap.call(T,e,e.target))},this),a.doubleTapThreshold)):(M=null,T.trigger("tap",[e.target]),a.tap&&(r=a.tap.call(T,e,e.target)))):t==be?n!==Pe&&n!==De||(clearTimeout(D),clearTimeout(P),M=null,T.trigger("doubletap",[e.target]),a.doubleTap&&(r=a.doubleTap.call(T,e,e.target))):t==ye&&(n!==Pe&&n!==De||(clearTimeout(D),M=null,T.trigger("longtap",[e.target]),a.longTap&&(r=a.longTap.call(T,e,e.target)))),r}function _(){var e=!0;return null!==a.threshold&&(e=u>=a.threshold),e}function q(){var e=!1;return null!==a.cancelThreshold&&null!==s&&(e=ne(s)-u>=a.cancelThreshold),e}function Q(){return!a.maxTimeThreshold||!(p>=a.maxTimeThreshold)}function C(){var e=V(),n=W(),t=null===a.pinchThreshold||g>=a.pinchThreshold;return e&&n&&t}function F(){return!!(a.pinchStatus||a.pinchIn||a.pinchOut)}function X(){var e=Q(),n=_(),t=V(),r=W();return!q()&&r&&t&&n&&e}function Y(){return!!(a.swipe||a.swipeStatus||a.swipeLeft||a.swipeRight||a.swipeUp||a.swipeDown)}function V(){return y===a.fingers||a.fingers===xe||!Le}function W(){return 0!==E[0].end.x}function z(){return!!a.tap}function G(){return!!a.doubleTap}function Z(){if(null==M)return!1;var e=oe();return G()&&e-M<=a.doubleTapThreshold}function B(){O=S=0}function J(){var e=!1;S&&oe()-S<=a.fingerReleaseThreshold&&(e=!0);return e}function K(e){T&&(!0===e?(T.bind(r,R),T.bind(i,k),l&&T.bind(l,I)):(T.unbind(r,R,!1),T.unbind(i,k,!1),l&&T.unbind(l,I,!1)),T.data(Ae+"_intouch",!0===e))}function $(e,n){var t={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return t.start.x=t.last.x=t.end.x=n.pageX||n.clientX,t.start.y=t.last.y=t.end.y=n.pageY||n.clientY,E[e]=t}function ee(e){var n=void 0!==e.identifier?e.identifier:0,t=function(e){return E[e]||null}(n);return null===t&&(t=$(n,e)),t.last.x=t.end.x,t.last.y=t.end.y,t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function ne(e){if(v[e])return v[e].distance}function te(e){return{direction:e,distance:0}}function re(){return x-m}function ie(e,n){var t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+r*r))}function le(e,n){if(function(e,n){return e.x==n.x&&e.y==n.y}(e,n))return de;var t=function(e,n){var t=e.x-n.x,r=n.y-e.y,i=Math.atan2(r,t),l=Math.round(180*i/Math.PI);return l<0&&(l=360-Math.abs(l)),l}(e,n);return t<=45&&0<=t?ue:t<=360&&315<=t?ue:135<=t&&t<=225?se:45<t&&t<135?pe:ce}function oe(){return(new Date).getTime()}this.enable=function(){return this.disable(),T.bind(t,L),T.bind(o,A),T},this.disable=function(){return U(),T},this.destroy=function(){U(),T.data(Ae,null),T=null},this.option=function(e,n){if("object"==typeof e)a=ae.extend(a,e);else if(void 0!==a[e]){if(void 0===n)return a[e];a[e]=n}else{if(!e)return a;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}ae.fn.swipe=function(e){var n=ae(this),t=n.data(Ae);if(t&&"string"==typeof e){if(t[e])return t[e].apply(t,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(t&&"object"==typeof e)t.option.apply(t,arguments);else if(!(t||"object"!=typeof e&&e))return function(t){!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=de);void 0!==t.click&&void 0===t.tap&&(t.tap=t.click);t=t||{};return t=ae.extend({},ae.fn.swipe.defaults,t),this.each(function(){var e=ae(this),n=e.data(Ae);n||(n=new r(this,t),e.data(Ae,n))})}.apply(this,arguments);return n},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:De,PHASE_CANCEL:Pe},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:he,OUT:fe},ae.fn.swipe.pageScroll={NONE:de,HORIZONTAL:Ee,VERTICAL:me,AUTO:ge},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:xe}});